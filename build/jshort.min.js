function makeElement(e,t,n){return new JSHElement({tag:e,body:t,props:n})}const ReferenceVariable=value=>{let self={value:value,sync:expression=>{setInterval(()=>{let value=eval(expression);self.value=value},10)},watch:e=>{let t=self.value;setInterval(()=>{self.value!=t&&(t=self.value,e())},20)}};return self},makeBindCondition=(e,t)=>({condition:e,value:t});class JSHComponent{constructor(e,t){this.elements=t;let n=makeElement("div","",this.props=e=e||{});for(var l of this.elements)n.append(l);this.container=n,this.element=n.element}addElement(e){return this.container.append(e),this}kill(){this.container.kill()}html(e){return this.container.html(e),this}}class JSHElement{constructor(e){var t=e.tag,n=e.body,l=e.props,e=e.element;if(this.children=[],null==e){let e=document.createElement(t);if(null!=n&&(e.innerHTML=n),null!=l)for(var r of Object.keys(l))e.setAttribute(r,l[r]);this.element=e}else this.element=e}on(e,t){return this.element.addEventListener(e,t),this}style(e,t){if(null==e&&null==t)return this.element.style;switch(e){case"add":for(var n of Object.keys(t))this.element.style[n]=t[n];break;case"remove":for(var l of t)this.element.style.removeProperty(l);break;default:throw new Error("Invalid action!")}}append(e){return this.element.appendChild(e.element),this.children.push(e),this}kill(){this.element.remove()}html(e){return this.element.innerHTML=e,this}bindAttribute(attribute,refVar,obj,conditions){let last=refVar.value;setInterval(()=>{if(last!=refVar.value){let index=-1;for(let i=0;i<conditions.length;i++)if(eval(conditions[i].condition)){index=i;break}if(-1==index)throw new Error("No true condition found");let value=conditions[index].value.split("{#}");last=refVar.value,this.element[attribute]=value.join(refVar.value)}},50)}}class JSHElementList{constructor(e){return this.elements=[],e.forEach(e=>{this.elements.push(e)}),this}on(t,n){return this.elements.forEach(e=>{e.on(t,n)}),this}style(t,n){return this.elements.forEach(e=>{e.style(t,n)}),this}}function S(e,t){let l;if(l=(null==t?document:t.element).querySelectorAll(e),0==l.length)return null;if(1==l.length){var n=l[0];let e={};for(propName of n.attributes)e[propName]=n.attributes[propName];return new JSHElement({tag:n.tagName,body:n.innerHTML,props:e,element:n})}{let n=[];return l.forEach(e=>{let t={};for(propName of e.attributes)t[propName]=e.attributes[propName];n.push(new JSHElement({tag:e.tagName,body:e.innerHTML,props:t,element:e}))}),new JSHElementList(n)}}
//# sourceMappingURL=jshort.min.map